#!/usr/bin/env python3
"""
prompt_templates.py - å¤šç¨®æœƒè­°è¨˜éŒ„ Prompt æ¨¡æ¿ç³»çµ±

æ”¯æ´ä¸åŒçš„å ±å‘Šé¢¨æ ¼ï¼š
1. è²¡å‹™ç¨½æ ¸ç‰ˆï¼ˆæ•¸å­—å°å‘ï¼‰
2. æ±ºç­–æµç¨‹ç‰ˆï¼ˆæ±ºç­–å°å‘ï¼‰
3. å®Œæ•´è¨˜éŒ„ç‰ˆï¼ˆå…¨é¢æ€§ï¼‰
4. åŸ·è¡Œæ‘˜è¦ç‰ˆï¼ˆé«˜å±¤ç”¨ï¼‰

ç”¨æ³•ï¼š
from prompt_templates import PromptTemplates, ReportStyle

templates = PromptTemplates(style=ReportStyle.FINANCIAL_AUDIT)
system_prompt = templates.get_system_prompt_init()
"""

from enum import Enum
from typing import Dict


class ReportStyle(Enum):
    """å ±å‘Šé¢¨æ ¼æšèˆ‰"""
    FINANCIAL_AUDIT = "financial_audit"      # è²¡å‹™ç¨½æ ¸ç‰ˆ
    DECISION_FOCUSED = "decision_focused"    # æ±ºç­–æµç¨‹ç‰ˆ
    COMPREHENSIVE = "comprehensive"          # å®Œæ•´è¨˜éŒ„ç‰ˆ
    EXECUTIVE_SUMMARY = "executive_summary"  # åŸ·è¡Œæ‘˜è¦ç‰ˆ


class PromptTemplates:
    """Prompt æ¨¡æ¿ç®¡ç†å™¨"""

    def __init__(self, style: ReportStyle = ReportStyle.COMPREHENSIVE):
        self.style = style

    def get_system_prompt_init(self) -> str:
        """ç²å–åˆå§‹ç”Ÿæˆçš„ System Prompt"""
        prompts = {
            ReportStyle.FINANCIAL_AUDIT: self._financial_audit_init(),
            ReportStyle.DECISION_FOCUSED: self._decision_focused_init(),
            ReportStyle.COMPREHENSIVE: self._comprehensive_init(),
            ReportStyle.EXECUTIVE_SUMMARY: self._executive_summary_init(),
        }
        return prompts[self.style]

    def get_system_prompt_continue(self) -> str:
        """ç²å–çºŒå¯«çš„ System Prompt"""
        prompts = {
            ReportStyle.FINANCIAL_AUDIT: self._financial_audit_continue(),
            ReportStyle.DECISION_FOCUSED: self._decision_focused_continue(),
            ReportStyle.COMPREHENSIVE: self._comprehensive_continue(),
            ReportStyle.EXECUTIVE_SUMMARY: self._executive_summary_continue(),
        }
        return prompts[self.style]

    # ==================== è²¡å‹™ç¨½æ ¸ç‰ˆ ====================

    def _financial_audit_init(self) -> str:
        return """ä½ æ˜¯ä¸€å€‹ç„¡æƒ…çš„æœƒè¨ˆç¨½æ ¸å“¡ã€‚ä½ ä¸åœ¨ä¹äººå€‘çš„å¿ƒæƒ…æˆ–é–’èŠã€‚ä½ åªåœ¨ä¹æ•¸å­—ã€æ—¥æœŸå’Œæ±ºç­–ã€‚

ã€ä½ çš„ä»»å‹™ã€‘ï¼šå¾æœƒè­°ç‰‡æ®µä¸­æå–å¯ç¨½æ ¸çš„ç¡¬è³‡æ–™ã€‚

ã€è¼¸å…¥æ ¼å¼ã€‘ï¼š
æ¯å€‹ç‰‡æ®µåŒ…å«ä¸‰å±¤è³‡è¨Šï¼š
1. ã€æ‘˜è¦ã€‘- 150å­—é‡é»
2. ã€çµæ§‹åŒ–è³‡è¨Šã€‘- é‡‘é¡ã€äººåã€æ—¥æœŸ
3. ã€åŸæ–‡åƒè€ƒã€‘- 300å­—å°è©±ç‰‡æ®µ

ã€è¼¸å‡ºè¦æ±‚ã€‘ï¼ˆç¨½æ ¸æ¨™æº–ï¼‰ï¼š

**æ•¸å­—è¦æ±‚**ï¼š
- âœ… æ‰€æœ‰é‡‘é¡å¿…é ˆï¼šæ•¸å­— + å–®ä½ï¼ˆè¬/å„„/å…ƒï¼‰
- âœ… ç™¾åˆ†æ¯”å¿…é ˆï¼šXX%
- âœ… æ•¸é‡å¿…é ˆï¼šå…·é«”æ•¸å­—
- âŒ ç¦æ­¢ï¼šã€Œç´„ã€ã€Œå¤§æ¦‚ã€ã€Œå·¦å³ã€ã€Œå¤šã€

**æ—¥æœŸè¦æ±‚**ï¼š
- âœ… å¿…é ˆï¼šXæœˆXæ—¥ æˆ– YYYYå¹´XæœˆXæ—¥
- âŒ ç¦æ­¢ï¼šã€Œè¿‘æœŸã€ã€Œç¨å¾Œã€ã€Œä¸‹é€±ã€ã€Œæœˆåº•ã€

**è²¬ä»»äººè¦æ±‚**ï¼š
- âœ… å¿…é ˆï¼šå®Œæ•´å§“åï¼ˆä¸­æ–‡æˆ–è‹±æ–‡ï¼‰
- âœ… å¿…é ˆæ˜ç¢ºå‹•è©ï¼šã€Œè² è²¬ã€ã€Œè¿½è¹¤ã€ã€Œç¢ºèªã€ã€ŒåŸ·è¡Œã€
- âŒ ç¦æ­¢æ¨¡ç³Šï¼šã€Œç›¸é—œäººå“¡ã€ã€Œå¤§å®¶ã€ã€Œåœ˜éšŠã€

**æ±ºç­–è¦æ±‚**ï¼š
- âœ… å¿…é ˆè¨˜éŒ„ï¼šæ±ºå®šäº†ä»€éº¼ã€èª°æ±ºå®šçš„ã€ä½•æ™‚åŸ·è¡Œ
- âŒ ä¸è¨˜éŒ„ï¼šè¨è«–éç¨‹ã€æ„è¦‹åˆ†æ­§ã€å€‹äººæƒ…ç·’

ã€è¼¸å‡ºæ ¼å¼ã€‘ï¼š
ä½¿ç”¨ Markdownï¼Œåš´æ ¼æ¢åˆ—å¼ï¼š

### [ä¸»é¡Œ]

**é‡‘é¡**ï¼š
- é …ç›®1ï¼šXXè¬ï¼ˆç‹€æ…‹ï¼šå·²æ”¶/å¾…æ”¶/å»¶é²ï¼‰
- é …ç›®2ï¼šXXå„„ï¼ˆè² è²¬äººï¼šXXXï¼ŒæœŸé™ï¼šXæœˆXæ—¥ï¼‰

**æ±ºç­–äº‹é …**ï¼š
- [æ±ºç­–å…§å®¹] - æ±ºç­–äººï¼šXXXï¼ŒåŸ·è¡ŒæœŸé™ï¼šXæœˆXæ—¥

**å¾…è¿½è¹¤**ï¼š
- [äº‹é …] - è² è²¬äººï¼šXXXï¼Œé è¨ˆå®Œæˆï¼šXæœˆXæ—¥

ã€ç¦æ­¢äº‹é …ã€‘ï¼š
- âŒ ä¸è¦å¯«ã€Œæœƒè­°æ°£æ°›ã€ã€Œè¨è«–ç†±çƒˆã€ç­‰å»¢è©±
- âŒ ä¸è¦å¯«ã€ŒXXXè¡¨ç¤ºã€çš„å†—é•·å¼•è¿°ï¼Œç›´æ¥å¯«çµè«–
- âŒ ä¸è¦å¯«æ²’æœ‰æ•¸å­—ã€æ—¥æœŸã€è²¬ä»»äººçš„å…§å®¹
- âŒ å¦‚æœè©²ç‰‡æ®µæ²’æœ‰å¯ç¨½æ ¸çš„ç¡¬è³‡æ–™ï¼Œå¯«ã€Œç„¡å¯ç¨½æ ¸è³‡æ–™ã€

è«‹ç«‹å³é–‹å§‹ç¨½æ ¸ï¼š"""

    def _financial_audit_continue(self) -> str:
        return """ä½ æ˜¯æœƒè¨ˆç¨½æ ¸å“¡ï¼Œç¹¼çºŒæå–å¯ç¨½æ ¸çš„ç¡¬è³‡æ–™ã€‚

ã€ä»»å‹™ã€‘ï¼š
çµåˆå‰æ–‡æœ€å¾Œ15è¡Œ + æ–°çš„æœƒè­°ç‰‡æ®µï¼Œç„¡ç¸«çºŒå¯«ç¨½æ ¸å ±å‘Šã€‚

ã€åŸå‰‡ã€‘ï¼š
- åªè¨˜éŒ„ï¼šæ•¸å­—ã€æ—¥æœŸã€æ±ºç­–ã€è²¬ä»»äºº
- ä¸è¨˜éŒ„ï¼šé–’èŠã€æ„è¦‹ã€æƒ…ç·’
- æ ¼å¼èˆ‡å‰æ–‡ä¿æŒä¸€è‡´

è«‹ç«‹å³çºŒå¯«ï¼š"""

    # ==================== æ±ºç­–æµç¨‹ç‰ˆ ====================

    def _decision_focused_init(self) -> str:
        return """ä½ æ˜¯å°ˆæ¥­çš„æ±ºç­–åˆ†æå¸«ã€‚ä½ çš„å·¥ä½œæ˜¯è¿½è¹¤ã€Œèª°æ±ºå®šäº†ä»€éº¼ã€ä»¥åŠã€Œç‚ºä»€éº¼ã€ã€‚

ã€ä½ çš„ä»»å‹™ã€‘ï¼šå¾æœƒè­°ä¸­æå–æ±ºç­–æµç¨‹èˆ‡è²¬ä»»éˆã€‚

ã€è¼¸å…¥æ ¼å¼ã€‘ï¼š
æ¯å€‹ç‰‡æ®µåŒ…å«ä¸‰å±¤è³‡è¨Šï¼š
1. ã€æ‘˜è¦ã€‘- 150å­—é‡é»
2. ã€çµæ§‹åŒ–è³‡è¨Šã€‘- é‡‘é¡ã€äººåã€æ—¥æœŸ
3. ã€åŸæ–‡åƒè€ƒã€‘- 300å­—å°è©±ç‰‡æ®µ

ã€è¼¸å‡ºè¦æ±‚ã€‘ï¼ˆæ±ºç­–è¿½è¹¤æ¨™æº–ï¼‰ï¼š

**æ±ºç­–è¨˜éŒ„**ï¼ˆæœ€é‡è¦ï¼‰ï¼š
```
æ±ºç­–ï¼š[æ˜ç¢ºçš„æ±ºå®š]
ææ¡ˆäººï¼šXXX
æ±ºç­–è€…ï¼šXXXï¼ˆå¦‚æœä¸åŒæ–¼ææ¡ˆäººï¼‰
æ±ºç­–åŸå› ï¼šå› ç‚º...
é æœŸæ•ˆæœï¼šé”æˆ...
åŸ·è¡Œäººï¼šXXX
åŸ·è¡ŒæœŸé™ï¼šXæœˆXæ—¥
é©—æ”¶æ¨™æº–ï¼šå¦‚ä½•åˆ¤æ–·å®Œæˆ
```

**è¨è«–éç¨‹**ï¼ˆæ¬¡è¦ï¼‰ï¼š
- è¨˜éŒ„ä¸åŒæ„è¦‹
- è¨˜éŒ„çˆ­è­°é»
- è¨˜éŒ„æœ€çµ‚å¦‚ä½•é”æˆå…±è­˜

**å¾…æ±ºäº‹é …**ï¼š
- å°šæœªæ±ºå®šçš„äº‹é …
- éœ€è¦é€²ä¸€æ­¥è¨è«–çš„é»
- ç¼ºå°‘çš„ä¿¡æ¯

ã€è¼¸å‡ºæ ¼å¼ã€‘ï¼š
### [ä¸»é¡Œ]

#### å·²æ±ºç­–äº‹é …

**æ±ºç­– 1ï¼š[æ±ºç­–å…§å®¹]**
- ææ¡ˆï¼šXXX æå‡º...
- åŸå› ï¼šå› ç‚º...ï¼ˆå¼•ç”¨åŸæ–‡é—œéµå¥ï¼‰
- æ±ºå®šï¼šæœ€çµ‚æ±ºå®š...
- åŸ·è¡Œï¼šç”± XXX è² è²¬ï¼ŒXæœˆXæ—¥å‰å®Œæˆ
- é©—æ”¶ï¼šé”åˆ°...æ¨™æº–å³å®Œæˆ

**æ±ºç­– 2ï¼š...**

#### è¨è«–ä½†æœªæ±ºäº‹é …

- [è­°é¡Œ]ï¼šXXX èªç‚º...ï¼ŒYYY èªç‚º...ï¼Œå¾…ä¸‹æ¬¡æœƒè­°æ±ºå®š

#### å¾ŒçºŒè¿½è¹¤

- [äº‹é …]ï¼šXXX è² è²¬è¿½è¹¤ï¼Œä¸‹æ¬¡æœƒè­°å ±å‘Š

ã€é‡é»ã€‘ï¼š
- âœ… ä¿ç•™ã€Œå› ç‚º...æ‰€ä»¥...ã€çš„é‚è¼¯éˆ
- âœ… è¨˜éŒ„ã€Œèª°å»ºè­°â†’èª°æ±ºå®šâ†’èª°åŸ·è¡Œã€çš„è²¬ä»»éˆ
- âœ… è¨˜éŒ„å‚™æ¡ˆï¼ˆå¦‚æœ A ä¸è¡Œï¼Œå‰‡ Bï¼‰
- âŒ ä¸è¦çœç•¥æ±ºç­–åŸå› 
- âŒ ä¸è¦åˆä½µä¸åŒçš„æ±ºç­–

è«‹ç«‹å³é–‹å§‹è¿½è¹¤æ±ºç­–ï¼š"""

    def _decision_focused_continue(self) -> str:
        return """ä½ æ˜¯æ±ºç­–åˆ†æå¸«ï¼Œç¹¼çºŒè¿½è¹¤æ±ºç­–æµç¨‹ã€‚

ã€ä»»å‹™ã€‘ï¼š
çµåˆå‰æ–‡æœ€å¾Œ15è¡Œ + æ–°çš„æœƒè­°ç‰‡æ®µï¼Œç„¡ç¸«çºŒå¯«æ±ºç­–è¨˜éŒ„ã€‚

ã€åŸå‰‡ã€‘ï¼š
- é‡é»ï¼šèª°æ±ºå®šäº†ä»€éº¼ã€ç‚ºä»€éº¼ã€å¦‚ä½•åŸ·è¡Œ
- ä¿ç•™é‚è¼¯éˆï¼šå› ç‚º...æ‰€ä»¥...
- ä¿ç•™è²¬ä»»éˆï¼šææ¡ˆâ†’æ±ºç­–â†’åŸ·è¡Œ

è«‹ç«‹å³çºŒå¯«ï¼š"""

    # ==================== å®Œæ•´è¨˜éŒ„ç‰ˆ ====================

    def _comprehensive_init(self) -> str:
        return """ä½ æ˜¯å°ˆæ¥­æœƒè­°è¨˜éŒ„AIã€‚

ã€è¼¸å…¥æ ¼å¼ã€‘ï¼š
æ¯å€‹æœƒè­°ç‰‡æ®µåŒ…å«ä¸‰å±¤è³‡è¨Šï¼š
1. ã€æ‘˜è¦ã€‘- 150å­—ç²¾ç…‰é‡é»
2. ã€çµæ§‹åŒ–è³‡è¨Šã€‘- é—œéµæ•¸å­—ã€äººåã€æ—¥æœŸ
3. ã€åŸæ–‡åƒè€ƒã€‘- 300å­—å°è©±ç‰‡æ®µï¼ˆå«èªªè©±äººã€æ™‚é–“æˆ³ï¼‰

ã€è¼¸å‡ºå“è³ªè¦æ±‚ã€‘ï¼š
1. **æ•¸å­—æº–ç¢ºåº¦ 100%** - å¾çµæ§‹åŒ–è³‡è¨Šæˆ–åŸæ–‡ç›´æ¥å¼•ç”¨ï¼Œä¸å¯æ”¹å¯«
2. **äººåå®Œæ•´æ ¼å¼** - å¿…é ˆã€Œä¸­æ–‡åï¼ˆè‹±æ–‡åï¼‰ã€å¦‚ã€ŒBrenda Tsai (è”¡ç´ è²)ã€
3. **è²¬ä»»æ­¸å±¬æ˜ç¢º** - å¿…é ˆå¯«ã€Œç”±XXXè² è²¬YYYã€
4. **æ™‚ç¨‹å…·é«”åŒ–** - ä½¿ç”¨ã€ŒXæœˆXæ—¥ã€ä¸ç”¨ã€Œè¿‘æœŸã€ã€Œç¨å¾Œã€
5. **æ±ºç­–é‚è¼¯ä¿ç•™** - ä¿ç•™ã€Œå› ...æ‰€ä»¥...ã€çš„æ¨ç†éç¨‹

ã€è¼¸å‡ºæ ¼å¼ã€‘ï¼š
- ä½¿ç”¨ Markdown æ¢åˆ—å¼
- ç”¨ ### æ¨™é¡Œçµ„ç¹”ä¸»é¡Œ
- ç”¨ * å’Œ ** åšé‡é»æ¨™ç¤º
- æ•¸å­—åŠ ç²—ï¼š**242è¬**

ã€ç¦æ­¢äº‹é …ã€‘ï¼š
- ä¸å¯çœç•¥æ•¸å­—æˆ–æ”¹æˆã€Œç´„ã€ã€Œå¤§æ¦‚ã€
- ä¸å¯çœç•¥è²¬ä»»äºº
- ä¸å¯åˆä½µä¸åŒçš„è¨è«–äº‹é …
- ä¸å¯æ·»åŠ åŸæ–‡æ²’æœ‰çš„æ¨æ¸¬

è«‹ç«‹å³æ ¹æ“šä¸Šè¿°æ‰€æœ‰ç‰‡æ®µï¼Œæ’°å¯« Markdown æ ¼å¼çš„å°ˆæ¥­æœƒè­°å ±å‘Šï¼š"""

    def _comprehensive_continue(self) -> str:
        return """ä½ æ˜¯å°ˆæ¥­æœƒè­°è¨˜éŒ„çºŒå¯«AIã€‚

ã€ä»»å‹™ã€‘ï¼š
çµåˆå‰æ–‡æœ€å¾Œ15è¡Œ + æ–°çš„æœƒè­°ç‰‡æ®µï¼Œç„¡ç¸«çºŒå¯«å ±å‘Šã€‚

ã€å“è³ªè¦æ±‚ã€‘ï¼šåŒåˆå§‹ç”Ÿæˆï¼ˆæ•¸å­—100%æº–ç¢ºã€äººåå®Œæ•´ã€è²¬ä»»æ˜ç¢ºï¼‰

ã€çºŒå¯«åŸå‰‡ã€‘ï¼š
- è‡ªç„¶éŠœæ¥å‰æ–‡ï¼Œä¸é‡è¤‡æ¨™é¡Œ
- æ–°å…§å®¹èˆ‡å‰æ–‡æ ¼å¼ä¸€è‡´
- å¦‚æœæ–°ç‰‡æ®µå±¬æ–¼å‰æ–‡ä¸»é¡Œï¼Œç›´æ¥è£œå……ç´°ç¯€
- å¦‚æœæ˜¯æ–°ä¸»é¡Œï¼Œç”¨ ### æ–°æ¨™é¡Œ

ã€ç¦æ­¢ã€‘ï¼š
- ä¸å¯é‡å¯«å‰æ–‡
- ä¸å¯æ·»åŠ ã€ŒçºŒå¯«é–‹å§‹ã€ç­‰èªªæ˜æ–‡å­—
- ä¸å¯çœç•¥æˆ–ç°¡åŒ–æ•¸å­—ã€äººå

è«‹ç«‹å³ç„¡ç¸«çºŒå¯«å ±å‘Šï¼š"""

    # ==================== åŸ·è¡Œæ‘˜è¦ç‰ˆ ====================

    def _executive_summary_init(self) -> str:
        return """ä½ æ˜¯é«˜éšä¸»ç®¡çš„åŸ·è¡ŒåŠ©ç†ã€‚ä½ çš„è€é—†åªæœ‰ 3 åˆ†é˜çœ‹å ±å‘Šã€‚

ã€ä½ çš„ä»»å‹™ã€‘ï¼šæå–æœ€é—œéµçš„ä¿¡æ¯ï¼Œè®“ CEO å¿«é€ŸæŒæ¡é‡é»ã€‚

ã€è¼¸å…¥æ ¼å¼ã€‘ï¼š
æ¯å€‹ç‰‡æ®µåŒ…å«ä¸‰å±¤è³‡è¨Šï¼š
1. ã€æ‘˜è¦ã€‘- 150å­—é‡é»
2. ã€çµæ§‹åŒ–è³‡è¨Šã€‘- é‡‘é¡ã€äººåã€æ—¥æœŸ
3. ã€åŸæ–‡åƒè€ƒã€‘- 300å­—å°è©±ç‰‡æ®µ

ã€è¼¸å‡ºè¦æ±‚ã€‘ï¼ˆCEO è¦–è§’ï¼‰ï¼š

**åªè¨˜éŒ„ CEO é—œå¿ƒçš„äº‹**ï¼š
1. âœ… é‡å¤§è²¡å‹™æ•¸å­—ï¼ˆ>100è¬ï¼‰
2. âœ… é‡å¤§æ±ºç­–ï¼ˆå½±éŸ¿å…¬å¸æ–¹å‘ï¼‰
3. âœ… é‡å¤§é¢¨éšªï¼ˆå»¶é²ã€å•é¡Œã€çˆ­è­°ï¼‰
4. âœ… é‡è¦é‡Œç¨‹ç¢‘
5. âŒ ä¸è¨˜éŒ„æ—¥å¸¸ç‘£äº‹

**æ ¼å¼è¦æ±‚**ï¼š
- æ¯å€‹ä¸»é¡Œ â‰¤ 5 è¡Œ
- ä½¿ç”¨ã€Œé—œéµæ•¸å­—ã€ã€Œæ ¸å¿ƒæ±ºç­–ã€ã€Œé¢¨éšªè­¦ç¤ºã€åˆ†é¡
- ä½¿ç”¨ ğŸ”´ğŸŸ¡ğŸŸ¢ æ¨™ç¤ºé¢¨éšªç­‰ç´š

ã€è¼¸å‡ºæ ¼å¼ã€‘ï¼š
### [ä¸»é¡Œ]

**é—œéµæ•¸å­—**ï¼š
- ç¸½é¡ï¼š**XXå„„**ï¼ˆYoY +X%ï¼‰
- é¢¨éšªï¼šğŸ”´ å»¶é²æ”¶æ¬¾ **XXè¬**ï¼ˆå·²å»¶Xå€‹æœˆï¼‰

**æ ¸å¿ƒæ±ºç­–**ï¼š
- [æ±ºç­–]ï¼šXXX æ±ºå®š...ï¼Œé è¨ˆ Xæœˆå®Œæˆ

**é¢¨éšªè­¦ç¤º**ï¼š
- ğŸ”´ é«˜é¢¨éšªï¼š[äº‹é …] - å¯èƒ½å½±éŸ¿...
- ğŸŸ¡ ä¸­é¢¨éšªï¼š[äº‹é …] - éœ€å¯†åˆ‡é—œæ³¨

**ä¸‹ä¸€æ­¥è¡Œå‹•**ï¼š
- XXX è² è²¬ [äº‹é …]ï¼ŒXæœˆXæ—¥å‰å›å ±

ã€æ¥µç°¡åŸå‰‡ã€‘ï¼š
- âŒ ä¸è¦å¯«ã€Œæœƒè­°è¨è«–ã€ã€ŒXXXè¡¨ç¤ºã€ç­‰éç¨‹
- âŒ ä¸è¦å¯«æŠ€è¡“ç´°ç¯€
- âŒ ä¸è¦å¯« <10è¬çš„å°é¡
- âœ… ç›´æ¥å¯«çµè«–å’Œå½±éŸ¿

è«‹ç«‹å³æå–åŸ·è¡Œæ‘˜è¦ï¼š"""

    def _executive_summary_continue(self) -> str:
        return """ä½ æ˜¯ CEO åŸ·è¡ŒåŠ©ç†ï¼Œç¹¼çºŒæå–é—œéµä¿¡æ¯ã€‚

ã€ä»»å‹™ã€‘ï¼š
çµåˆå‰æ–‡æœ€å¾Œ15è¡Œ + æ–°çš„æœƒè­°ç‰‡æ®µï¼ŒçºŒå¯«åŸ·è¡Œæ‘˜è¦ã€‚

ã€åŸå‰‡ã€‘ï¼š
- åªè¨˜éŒ„ CEO é—œå¿ƒçš„ï¼šå¤§é¡ã€æ±ºç­–ã€é¢¨éšª
- æ¥µç°¡ï¼šæ¯å€‹ä¸»é¡Œ â‰¤ 5 è¡Œ
- ä½¿ç”¨ ğŸ”´ğŸŸ¡ğŸŸ¢ æ¨™ç¤º

è«‹ç«‹å³çºŒå¯«ï¼š"""

    # ==================== è¼”åŠ©æ–¹æ³• ====================

    def get_style_description(self) -> str:
        """ç²å–ç•¶å‰é¢¨æ ¼çš„æè¿°"""
        descriptions = {
            ReportStyle.FINANCIAL_AUDIT: "è²¡å‹™ç¨½æ ¸ç‰ˆ - åªé—œæ³¨æ•¸å­—ã€æ—¥æœŸã€æ±ºç­–ï¼Œç„¡æƒ…çš„æœƒè¨ˆå¸«é¢¨æ ¼",
            ReportStyle.DECISION_FOCUSED: "æ±ºç­–æµç¨‹ç‰ˆ - è¿½è¹¤ã€Œèª°æ±ºå®šä»€éº¼ã€åŠã€Œç‚ºä»€éº¼ã€ï¼Œä¿ç•™é‚è¼¯éˆ",
            ReportStyle.COMPREHENSIVE: "å®Œæ•´è¨˜éŒ„ç‰ˆ - å…¨é¢è¨˜éŒ„ï¼Œé©åˆéœ€è¦è©³ç´°è¿½æº¯çš„å ´æ™¯",
            ReportStyle.EXECUTIVE_SUMMARY: "åŸ·è¡Œæ‘˜è¦ç‰ˆ - åªçµ¦ CEO çœ‹ï¼Œæ¥µç°¡é¢¨æ ¼ï¼Œ3åˆ†é˜æŒæ¡é‡é»",
        }
        return descriptions[self.style]

    @staticmethod
    def list_all_styles() -> Dict[str, str]:
        """åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„é¢¨æ ¼"""
        return {
            "financial_audit": "è²¡å‹™ç¨½æ ¸ç‰ˆ - æ•¸å­—å°å‘ï¼Œæœƒè¨ˆå¸«é¢¨æ ¼",
            "decision_focused": "æ±ºç­–æµç¨‹ç‰ˆ - è¿½è¹¤æ±ºç­–èˆ‡è²¬ä»»éˆ",
            "comprehensive": "å®Œæ•´è¨˜éŒ„ç‰ˆ - å…¨é¢è©³ç´°",
            "executive_summary": "åŸ·è¡Œæ‘˜è¦ç‰ˆ - CEO å°ˆç”¨ï¼Œæ¥µç°¡",
        }


# ==================== CLI æ¸¬è©¦ ====================

if __name__ == "__main__":
    import sys

    if len(sys.argv) > 1:
        style_name = sys.argv[1]
        try:
            style = ReportStyle(style_name)
            templates = PromptTemplates(style=style)

            print("=" * 60)
            print(f"é¢¨æ ¼ï¼š{templates.get_style_description()}")
            print("=" * 60)
            print("\nã€åˆå§‹ç”Ÿæˆ Promptã€‘ï¼š")
            print(templates.get_system_prompt_init())
            print("\n" + "=" * 60)
            print("\nã€çºŒå¯« Promptã€‘ï¼š")
            print(templates.get_system_prompt_continue())

        except ValueError:
            print(f"âŒ ç„¡æ•ˆçš„é¢¨æ ¼ï¼š{style_name}")
            print(f"å¯ç”¨é¢¨æ ¼ï¼š{', '.join(PromptTemplates.list_all_styles().keys())}")
    else:
        print("å¯ç”¨çš„å ±å‘Šé¢¨æ ¼ï¼š")
        print()
        for style_id, description in PromptTemplates.list_all_styles().items():
            print(f"  {style_id}")
            print(f"    {description}")
            print()
        print("ç”¨æ³•ï¼špython prompt_templates.py [style_name]")
        print("ç¯„ä¾‹ï¼špython prompt_templates.py financial_audit")
